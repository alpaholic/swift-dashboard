<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="UTF-8" />

    <link rel="stylesheet" href="@{lib/bootstrap/css}/bootstrap.min.css">
    <link rel="stylesheet" href="@{css}/common.css">
    <link rel="stylesheet" href="@{lib/css}/jquery.contextmenu.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="@{lib/js}/jquery.contextmenu.js"></script>
    <script src="@{lib/js}/handlebars.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="@{lib/bootstrap/js}/bootstrap.min.js"></script>
    <script src="@{js}/common.js"></script>
    <script src="@{js}/service.js"></script>
    <script src="@{js}/handler.js"></script>
    <script src="@{js}/actions.js"></script>
    <script src="@{js}/container.js"></script>
    <script src="@{js}/explorer.js"></script>
    <script src="@{js}/upload.js"></script>
    <script src="@{js}/controller.js"></script>

    <script id="make-object" type="text/x-handlebars-template">
        <div class="row file-position object-depth-{{depth}}">
            <div class="col-lg-1" object-type="{{type}}">
                <span class="{{img}} object-file-type" aria-hidden="true"></span>
            </div>
            <div class="col-lg-8 object-file-name">{{name}}</div>
            <!--<div class="col-lg-3 text-right">{{size}}</div>-->
        </div>
    </script>

    <script id="make-search-object" type="text/x-handlebars-template">
        <div class="row">
            <div class="col-lg-1 search-icon"><h3 class="{{img}}"></h3></div>
                <div class="col-lg-6">
                    <p class="text-left h5 search-file-name">{{name}}</p>
                    <p class="text-left h5 search-file-path"><strong>{{path}}</strong></p>
            </div>
            <div class="col-lg-5">
                <p class="text-right h5 search-last-modified">{{modified}}</p>
                <p class="text-right h5 search-file-size">{{size}}</p>
            </div>
        </div>
    </script>

    <script id="make-container-object" type="text/x-handlebars-template">
        <div class="panel custom panel-default left-container-info">
            <div class="panel-body left-container-body">
                <div class="container-name"><strong>{{name}}</strong></div>
                <div><strong>{{count}} Files | {{size}}</strong></div>
            </div>
        </div>
    </script>

    <script id="make-file-panel" type="text/x-handlebars-template">
        <div class="col-lg-4th-panel">
            <div class="panel panel-default {{last}}">
                <div class="panel-body file-explorer">
                    <div class="content-scroll explorer-panel">
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script>
    
    $(function () {
        $('.explorer-panel > .file-position').contextPopup(
            {
                containerOuter: [
                    {
                        label: 'Create Container', action: function () {
                            $('#createObject').attr('createAction', 'container');
                            $('#createObject').modal('show');
                            $('#createObject').attr('createAction', '');
                        }
                    }
                ],
                containerInner: [
                    {
                        label: 'Delete Container', action: function (e, that) {
                            deleteHander(function () { })
                        }
                    }
                ],
                panelOuter: [
                    {
                        label: 'Create Directory', action: function () {
                            $('#createObject').attr('createAction', 'directory');
                            $('#createObject').modal('show');
                            $('#createObject').attr('createAction', '');
                        }
                    },
                    {
                        label: 'Upload', action: function (e, that) {
                            $('#btnUpload').trigger('click');
                        }
                    },
                    {
                        label: 'Paste', action: function () {
                            actionHandler('paste');
                        }
                    }
                ],
                panelInner: [
                    {
                        label: 'Copy', action: function (e, that) {
                            actionHandler('copy');
                        }
                    },
                    {
                        label: 'Cut', action: function (e, that) {
                            actionHandler('cut');
                        }
                    },
                    {
                        label: 'Paste', action: function (e, that) {
                            actionHandler('paste');
                        }
                    },
                    {
                        label: 'Delete Object', action: function (e, that) {
                            deleteHander(function () { });
                        }
                    },
                    {
                        label: 'Download', action: function (e, that) {
                            actionHandler('download');
                        }
                    }
                ]
            });
    });
    </script>
    <title>CF SWIFT</title>
</head>

<body>
    <div class="container">
        <!-- 상단 CF SWIFT 시작 -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="color-gray"><strong>CF SWIFT</strong></h1>
            </div>
        </div>
        <!-- 상단 CF SWIFT 끝 -->
        <div class="row">
            <div class="col-lg-12">
                <hr />
            </div>
        </div>
        <!-- 스토리지 정보 시작 -->
        <div class="row">
            <div class="col-xs-4 col-lg-2">
                <p id="totalContainers" class="text-left h1 header-info-text"></p>
            </div>
            <div class="col-xs-4 col-lg-2">
                <p id="totalFiles" class="text-left h1 header-info-text"></p>
            </div>
            <div class="col-xs-4 col-lg-4">
                <p id="totalConsumed" class="text-left h1 header-info-text"></p>
            </div>
        </div>
        <!-- 스토리지 정보 끝 -->
        <!-- 표시 데이터 종류 시작 -->
        <div class="row">
            <div class="col-xs-4 col-lg-2">
                <p class="text-left h5 color-gray"><strong>STORAGE CONTAINERS</strong></p>
            </div>
            <div class="col-xs-4 col-lg-2">
                <p class="text-left h5 color-gray"><strong>TOTAL FILES</strong></p>
            </div>
            <div class="col-xs-4 col-lg-4">
                <p class="text-left h5 color-gray"><strong>STORAGE CONSUMED</strong></p>
            </div>
            <div class="col-lg-4">
                <p id="helperMessage" class="bg-info custom text-left h5"></p>
            </div>
        </div>
        <!-- 표시 데이터 종류 끝 -->
        <div class="row">
            <div class="col-lg-12">
                <hr />
            </div>
        </div>
        <!-- CONTAINER / OBJECTS 문구 시작 -->
        <div class="row">
            <div class="col-lg-2">
                <p class="text-left h5 color-gray"><strong>CONTAINERS</strong></p>
            </div>
            <div class="col-lg-10">
                <p class="text-left h5 color-gray"><strong>OBJECTS</strong></p>
            </div>
            <!--<div class="col-lg-6">
                <ol class="breadcrumb" style="text-align: right;">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Library</a></li>
                    <li class="active">Data</li>
                </ol>
            </div>-->
        </div>
        <!-- CONTAINER / OBJECTS 문구 끝 -->
        <div class="row">
            <div class="col-lg-12">
                <hr />
            </div>
        </div>
        <!-- 버튼 / 검색 박스 시작 -->
        <div class="row">
            <div class="col-xs-12 col-lg-2">
                <div class="row">
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary custom dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            Create <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#" data-toggle="modal" data-target="#createObject" data-whatever="container">Container</a></li>
                            <li><a href="#" id="contextMenuCreate" data-toggle="modal" data-target="#createObject" data-whatever="directory">Directory</a></li>
                        </ul>
                    </div>
                    <form action="/uploadObject" method="post" enctype="multipart/form-data" id="fileForm" name="uploadForm">
                        <input type="file" id="uploadFile" name="uploadObject" />
                    </form>
                    <button type="button" id="btnUpload" class="btn btn-primary custom">Upload</button>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary custom dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            Action <span class="caret"></span>
                        </button>
                        <ul id="btnAction" class="dropdown-menu" role="menu">
                            <li><a href="#" data-cb="copy">Copy</a></li>
                            <li><a href="#" data-cb="cut">Cut</a></li>
                            <li id="btnPaste" class="disabled"><a href="#" data-cb="paste">Paste</a></li>
                            <li class="divider"></li>
                            <li><a href="#" data-cb="download">Download</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-lg-10">
                <div class="row">
                    <div class="col-xs-10 col-lg-11">
                        <div class="input-group">
                            <input id="searchValue" type="text" class="form-control" style="height: 34px;" placeholder="Search for...">
                            <span class="input-group-btn">
                                <button type="button" id="btnFileSearch" class="btn btn-default" aria-label="Left Align">
                                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                            </span>
                        </div>
                    </div>
                    <div class="col-xs-2 col-lg-1">
                        <button type="button" id="btnDelete" class="btn btn-danger custom">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 버튼 / 검색 박스 끝 -->


        <!--<div class="progressBar"></div>-->
        <div class="row">
            <div class="col-lg-12">
                <div style="height: 5px;"></div>
            </div>
            <div class="col-lg-12">
                <div class="progress custom">
                    <div class="progress-bar progress-bar-info progress-bar-stripeds" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                        aria-valuemax="100" style="min-width: 2em;">
                    </div>
                </div>
            </div>
        </div>

        <!-- 메인 시작 -->
        <div class="row">
            <!-- 좌측 컨테이너 정보 시작 -->
            <div class="col-lg-2 content-scroll left-container-list">
                <div id="containerList">
                </div>
            </div>
            <!-- 좌측 컨테이너 정보 끝 -->
            <!-- 검색화면 시작 -->
            <div id="displaySeachResult" class="col-lg-10 content-scroll" style="display: none;"></div>
            <!-- 검색화면 끝 -->
            <!-- 파일 목록 화면 시작 -->
            <div id="displayFileExplorer" class="col-lg-10" style="display: block;">
                <div class="row">
                    <!-- 좌측 파일 리스트 시작 -->
                    <div class="col-lg-8">
                        <div class="row auto-increase panel-border">
                            <!-- 1번 패널 시작 -->
                            <div class="col-lg-4th-panel first-panel">
                                <div class="panel panel-default ">
                                    <div class="panel-body file-explorer">
                                        <div class="content-scroll explorer-panel">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 1번 패널 끝 -->
                            <!-- 2번 패널 시작 
                            <div class="col-lg-4th-panel">
                                <div class="panel panel-default ">
                                    <div class="panel-body file-explorer">
                                        <div class="content-scroll explorer-panel">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 2번 패널 끝 -->

                            <!-- 3번 패널 시작 
                            <div class="col-lg-4th-panel last-panel">
                                <div class="panel panel-default ">
                                    <div class="panel-body file-explorer">
                                        <div class="content-scroll explorer-panel">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 3번 패널 끝 -->
                        </div>
                    </div>
                    <!-- 좌측 파일 리스트 끝 -->
                    <!-- 우측 파일 정보 시작 -->
                    <div class="col-lg-4 display-file-information">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="panel panel-default">
                                    <div class="panel-body ">
                                        <div class="content-scroll object-detail-information">
                                            <table id="fileDetailInfo" class="table">
                                                <tr>
                                                    <td class="file-information"><strong>File Name</strong></td>
                                                    <td id="infoFileName"></td>
                                                </tr>
                                                <tr>
                                                    <td class="file-information"><strong>File Path</strong></td>
                                                    <td id="infoFilePath"></td>
                                                </tr>
                                                <tr>
                                                    <td class="file-information"><strong>Type</strong></td>
                                                    <td id="infoFileType"></td>
                                                </tr>
                                                <tr>
                                                    <td class="file-information"><strong>Size</strong></td>
                                                    <td id="infoFileSize"></td>
                                                </tr>
                                                <tr>
                                                    <td class="file-information last"><strong>Last modified</strong></td>
                                                    <td id="infoFileModified" style="border-bottom: 1px solid #ddd"></td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2"><img id="previewImageObject" style="max-width: 100%; max-height: 100%"
                                                        /></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 우측 파일 정보 끝 -->
                </div>
            </div>
            <!-- 파일 목록 화면 끝 -->
        </div>
        <!-- 메인 끝 -->
        <div class="row">
            <div class="col-lg-12 ">
                <hr />
            </div>
        </div>
    </div>

    <!-- Create Container & Directory -->
    <div class="modal modal-center fade" id="createObject" tabindex="-1" role="dialog" aria-labelledby="createObjectLabel" aria-hidden="true">
        <div class="modal-dialog modal-center">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="createObjectLabel">Create a new </h4>
                </div>
                <div class="modal-body">
                    <form onsubmit="return false;">
                        <div class="form-group">
                            <label for="object-name" class="control-label">Name:</label>
                            <input type="text" class="form-control" id="object-name">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="btnObjectCreate" type="button" class="btn btn-primary">Create</button>
                    <p class="text-right h5 create-warning"></p>
                </div>
            </div>
        </div>
    </div>
    <div class="loadingBar">
        <!-- Place at bottom of page -->
    </div>
</body>

</html>